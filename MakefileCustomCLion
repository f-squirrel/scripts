#CONCORD_BFT_DOCKER_REPO:=clion/
#CONCORD_BFT_DOCKER_IMAGE:=remote-cpp-env
#CONCORD_BFT_DOCKER_IMAGE_VERSION:=0.5
#CONCORD_BFT_DOCKER_CONTAINER:=clion_remote_env
#CONCORD_BFT_DOCKER_CONTAINER:=concord-bft-env
#CONCORD_BFT_TARGET_SOURCE_PATH:=/root/concord-bft
#CONCORD_BFT_CONTAINER_SHELL:=/bin/zsh

#PORT_RANGE:=7770
#CONCORD_BFT_ADDITIONAL_RUN_PARAMS:=-p ${PORT_RANGE}:7777
#CONCORD_BFT_ADDITIONAL_RUN_PARAMS:=-p127.0.0.1:2222:22


.PHONY: build-env-docker-image
build-env-docker-image: ## Re-build the container without caching
	docker build --rm --no-cache=true -t ${CONCORD_BFT_DOCKER_IMAGE}:latest \
		--build-arg "base_image=concordbft/concord-bft" --build-arg "base_tag=0.4" \
		-f ${HOME}/scripts/deployment/Dockerfile ${HOME}/scripts/deployment/
